{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/dev/mod5-project/best-offer/best-offer-frontend/src/components/TaskShowPage.js\";\nimport React from \"react\";\nimport { Button, Card, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nexport default class TaskShowPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      anyBidsSelected: false,\n      sortedBids: []\n    };\n\n    this.sortBids = () => {\n      let sorted = this.props.task.bids.sort((a, b) => a.price > b.price ? 1 : -1);\n      return sorted;\n    };\n\n    this.bidAccepted = bid => {\n      this.setState({\n        anyBidsSelected: true\n      }, () => this.props.acceptBid(bid));\n    };\n\n    this.bidDeclined = bid => {\n      if (bid.status) {\n        this.setState({\n          anyBidsSelected: false\n        }, () => this.props.deleteBid(bid));\n      } else {\n        this.props.deleteBid(bid);\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.props.task.bids.forEach(bid => {\n        if (bid.status) {\n          this.setState({\n            anyBidsSelected: true\n          });\n          return true;\n        }\n      });\n      this.setState({\n        sortedBids: this.sortBids().map(bid => bid.status)\n      });\n    };\n\n    this.CardExampleGroups = (bid, index) => {\n      return React.createElement(Card.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Card, {\n        href: \"/contractors/\".concat(bid.contractor.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Card.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Image, {\n        floated: \"right\",\n        size: \"mini\",\n        src: \"https://randomuser.me/api/portraits/\".concat(['women', 'men'][Math.floor(Math.random() * 2)], \"/\").concat(Math.floor(Math.random() * 99), \".jpg\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, index === 0 && !this.state.anyBidsSelected ? \"Best Value!\" : null), bid.status ? React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Congrats!!!!! You selected this bid!\") : null, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, bid.contractor.name), React.createElement(Card.Meta, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, bid.status ? \"Winning Bid: $\".concat(bid.price) : \"Top Contractor!\"), React.createElement(Card.Description, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, bid.contractor.name, \" Pick Me!\")), React.createElement(Card.Content, {\n        extra: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, !bid.status ? React.createElement(\"div\", {\n        className: \"ui two buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: this.state.anyBidsSelected,\n        onClick: () => this.bidAccepted(bid),\n        basic: true,\n        color: \"blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Accept bid of $\", bid.price), React.createElement(Button, {\n        disabled: bid.status ? true : null,\n        onClick: () => this.bidDeclined(bid),\n        basic: true,\n        color: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.state.anyBidsSelected ? \"Delete Bid\" : \"Decline Bid\")) : null)));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onClick: this.props.toggleTask,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      onClick: () => this.props.deleteTask(this.props.task),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Delete This Task\")), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Title:\", \" \", React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.props.task.name)), \" \"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Description: \", React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.props.task.description), \" \"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Bids:\"), React.createElement(\"div\", {\n      className: \"bids\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.sortBids().map((bid, index) => React.createElement(\"div\", {\n      key: Math.floor(Math.random() * 100000000000 + 1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \" \", this.CardExampleGroups(bid, index)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/dev/mod5-project/best-offer/best-offer-frontend/src/components/TaskShowPage.js"],"names":["React","Button","Card","Image","Link","TaskShowPage","Component","state","anyBidsSelected","sortedBids","sortBids","sorted","props","task","bids","sort","a","b","price","bidAccepted","bid","setState","acceptBid","bidDeclined","status","deleteBid","componentDidMount","forEach","map","CardExampleGroups","index","contractor","id","Math","floor","random","name","render","toggleTask","deleteTask","description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Card, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class TaskShowPage extends React.Component {\n  state = {\n    anyBidsSelected: false,\n    sortedBids: []\n  };\n\n  sortBids = () => {\n    let sorted = this.props.task.bids.sort((a, b) =>\n      a.price > b.price ? 1 : -1\n    );\n    return sorted;\n  };\n\n  bidAccepted = bid => {\n    this.setState(\n      {\n        anyBidsSelected: true\n      },\n      () => this.props.acceptBid(bid)\n    );\n  };\n\n  bidDeclined = bid => {\n    if (bid.status) {\n      this.setState(\n        {\n          anyBidsSelected: false\n        },\n        () => this.props.deleteBid(bid)\n      );\n    } else {\n      this.props.deleteBid(bid);\n    }\n  };\n\n  componentDidMount = () => {\n    this.props.task.bids.forEach(bid => {\n      if (bid.status) {\n        this.setState({\n          anyBidsSelected: true\n        });\n        return true;\n      }\n    });\n\n    this.setState({\n      sortedBids: this.sortBids().map(bid => bid.status)\n    });\n  };\n\n  CardExampleGroups = (bid, index) => {\n    return (\n      <Card.Group >\n        <Card  href={`/contractors/${bid.contractor.id}`}>\n          <Card.Content>\n            <Image\n              floated=\"right\"\n              size=\"mini\"\n              src={`https://randomuser.me/api/portraits/${['women', 'men'][Math.floor(Math.random()*2)]}/${Math.floor(Math.random() * 99)}.jpg`}\n            />\n            <h1>\n              {index === 0 && !this.state.anyBidsSelected\n                ? \"Best Value!\"\n                : null}\n            </h1>\n            {bid.status ? <h1>Congrats!!!!! You selected this bid!</h1> : null}\n            <Card.Header>{bid.contractor.name}</Card.Header>\n            <Card.Meta>\n              {bid.status ? `Winning Bid: $${bid.price}` : \"Top Contractor!\"}\n            </Card.Meta>\n            <Card.Description>{bid.contractor.name} Pick Me!</Card.Description>\n          </Card.Content>\n          <Card.Content extra>\n            {!bid.status ? (\n              <div className=\"ui two buttons\">\n                <Button\n                  disabled={this.state.anyBidsSelected}\n                  onClick={() => this.bidAccepted(bid)}\n                  basic\n                  color=\"blue\"\n                >\n                  Accept bid of ${bid.price}\n                </Button>\n                <Button\n                  disabled={bid.status ? true : null}\n                  onClick={() => this.bidDeclined(bid)}\n                  basic\n                  color=\"red\"\n                >\n                  {this.state.anyBidsSelected ? \"Delete Bid\" : \"Decline Bid\"}\n                </Button>\n              </div>\n            ) : null}\n          </Card.Content>\n        </Card>\n      </Card.Group>\n    );\n  };\n\n  render() {\n    return (\n      <div onClick={this.props.toggleTask}>\n        <Link to=\"/profile\">\n          {\" \"}\n          <button onClick={() => this.props.deleteTask(this.props.task)}>\n            Delete This Task\n          </button>\n        </Link>\n        <h1>\n          Title:{\" \"}\n          <h3>\n            <strong>{this.props.task.name}</strong>\n          </h3>{\" \"}\n        </h1>\n        <h1>\n          Description: <h3>{this.props.task.description}</h3>{\" \"}\n        </h1>\n        <h1>Bids:</h1>\n        <div className=\"bids\">\n          {this.sortBids().map((bid, index) => (\n            <div key={Math.floor(Math.random() * 100000000000 + 1)}>\n              {\" \"}\n              {this.CardExampleGroups(bid, index)}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}