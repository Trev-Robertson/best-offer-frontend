{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/dev/mod5-project/best-offer/best-offer-frontend/src/components/AllOpenTasks.js\";\nimport React from \"react\";\nimport ContractorShowPage from \"../components/ContractorShowPage\";\nimport { Card } from \"semantic-ui-react\";\nimport { isEmpty } from \"lodash\";\nimport { // eslint-disable-next-line\nBrowserRouter as Router, Route } from \"react-router-dom\";\nconst URL = \"http://localhost:3000/tasks\";\nconst REVIEWSURL = \"http://localhost:3000/reviews\";\nexport default class AllOpenTasks extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allTasks: [],\n      profileSelected: [],\n      newReview: true\n    };\n\n    this.extra = contractor => {\n      return this.state.allContractors ? React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"My Specialties Are \".concat(contractor.specialties[0].name[0].toUpperCase() + contractor.specialties[0].name.slice(1), \" \\n       and \").concat(contractor.specialties[1].name[0].toUpperCase() + contractor.specialties[1].name.slice(1))) : null;\n    };\n\n    this.sortBids = bids => {\n      let sorted = bids.sort((a, b) => a.price > b.price ? 1 : -1);\n      return sorted;\n    };\n\n    this.CardExampleLinkCard = task => {\n      let lowestBid;\n\n      if (task.bids) {\n        lowestBid = this.sortBids(task.bids)[0];\n      }\n\n      if (!task.task_done) {\n        return React.createElement(Card, {\n          key: task.id,\n          color: \"blue\",\n          href: \"/contractor/task/\".concat(task.id),\n          header: task.name,\n          meta: \"\",\n          description: task.description,\n          extra: lowestBid ? \"The Lowest Bid Is Currently $\".concat(lowestBid.price) : null,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(URL).then(res => res.json()).then(allTasks => {\n      this.setState({\n        allTasks\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"contractor-display\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Card.Group, {\n      itemsPerRow: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.allTasks.map(task => {\n      return this.CardExampleLinkCard(task);\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/dev/mod5-project/best-offer/best-offer-frontend/src/components/AllOpenTasks.js"],"names":["React","ContractorShowPage","Card","isEmpty","BrowserRouter","Router","Route","URL","REVIEWSURL","AllOpenTasks","Component","state","allTasks","profileSelected","newReview","extra","contractor","allContractors","specialties","name","toUpperCase","slice","sortBids","bids","sorted","sort","a","b","price","CardExampleLinkCard","task","lowestBid","task_done","id","description","componentDidMount","fetch","then","res","json","setState","render","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ContractorShowPage from \"../components/ContractorShowPage\";\nimport { Card } from \"semantic-ui-react\";\nimport { isEmpty } from \"lodash\";\nimport {\n  // eslint-disable-next-line\n  BrowserRouter as Router,\n  Route\n} from \"react-router-dom\";\n\nconst URL = \"http://localhost:3000/tasks\";\nconst REVIEWSURL = \"http://localhost:3000/reviews\";\n\nexport default class AllOpenTasks extends React.Component {\n  state = {\n    allTasks: [],\n    profileSelected: [],\n    newReview: true\n  };\n\n  componentDidMount() {\n    fetch(URL)\n      .then(res => res.json())\n      .then(allTasks=> {\n        this.setState({ allTasks });\n      });\n   \n  }\n\n  extra = contractor => {\n    return this.state.allContractors ? (\n      <h3>{`My Specialties Are ${contractor.specialties[0].name[0].toUpperCase() +\n        contractor.specialties[0].name.slice(1)} \n       and ${contractor.specialties[1].name[0].toUpperCase() +\n         contractor.specialties[1].name.slice(1)}`}</h3>\n    ) : null;\n  };\n\n  sortBids = (bids) => {\n   \n      \n    let sorted = bids.sort((a, b) =>\n      a.price > b.price ? 1 : -1\n    );\n    \n    return sorted;\n  };\n\n\n\n  CardExampleLinkCard = task => {\n      let lowestBid\n     \n        if(task.bids){\n                lowestBid = this.sortBids(task.bids)[0] \n        }\n    if(!task.task_done){\n    return (\n      <Card\n        key={task.id}\n        color=\"blue\"\n        href={`/contractor/task/${task.id}`}\n        header={task.name}\n        meta={\"\"}\n        description={task.description}\n        extra={lowestBid ? `The Lowest Bid Is Currently $${lowestBid.price}` : null}\n      />\n    );}\n  };\n\n  render() {\n    return (\n      <div>\n        \n            <div className=\"contractor-display\">\n              <Card.Group itemsPerRow={4}>\n                {this.state.allTasks.map(task => {\n                  return this.CardExampleLinkCard(task);\n                })}\n              </Card.Group>\n            </div>\n  \n        \n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}